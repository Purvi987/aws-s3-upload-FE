<div *ngFor="let progressInfo of progressInfos">
  <span>{{ progressInfo.fileName }}</span>
  <mat-toolbar class="progress-bar">
    <mat-progress-bar
      color="accent"
      [value]="progressInfo.value"
    ></mat-progress-bar>
    <span class="progress">{{ progressInfo.value }}%</span>
  </mat-toolbar>
</div>

<div fxLayout="row">
  <!-- <mat-form-field fxFlex="50" class="form-padding">
    <div>
      <mat-toolbar>
        <input
          matInput
          [value]="
            selectedFileNames.length
              ? selectedFileNames.join(', ')
              : 'Click here to select image'
          "
        />
  
        <button
          mat-flat-button
          color="primary"
          [disabled]="!selectedFiles"
          (click)="uploadFiles()"
        >
          Upload
        </button>
      </mat-toolbar>
  
      <input
        type="file"
        id="fileInput"
        name="fileInput"
        accept="image/*"
        multiple
        (change)="selectFiles($event)"
      />
    </div>
  </mat-form-field> -->
  <div fxFlex="100" class="form-padding">
    <mat-toolbar color="primary">
      <span class="fill-remaining-space">Image Information</span>
    </mat-toolbar>
    
    <div class="container" fxLayout="row"> 
      <form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)" class="form" fxFlex="100">
    

				<div class="group-gap">
					<div class="avatar-upload">
						<div class="avatar-edit">
							<input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" #fileInput (change)="selectFiles($event)" />
            </div>
            <div class="avatar-preview"  >
              <div id="imagePreview" matTooltip="Tooltip Display"
              aria-label="Displays a tooltip"
              [style.backgroundImage]="'url('+ imageUrl +')'" 
              (click)="fileInput.click()">
              </div>
            </div>
          </div>
        </div>

        <mat-form-field class="form-element">
          <input matInput placeholder="Title" formControlName="title">
          <!-- <mat-error *ngIf="!name.valid && name.touched">
            {{ titleAlert }}
          </mat-error> -->
        </mat-form-field>
    
        <mat-form-field class="form-element">
          <input matInput placeholder="Tag" formControlName="tag">
          <!-- <mat-error *ngIf="!formGroup.controls['description'].valid && formGroup.controls['description'].touched">
            Required field, must be between 5 and 10 characters.
          </mat-error> -->
        </mat-form-field>
    
        <div class="form-element">
          <button mat-raised-button color="primary" type="submit" class="button" [disabled]="!formGroup.valid">Submit Form</button>
        </div>
    
      </form>
    </div>
  </div>
</div>

<div>
  <img *ngFor="let preview of previews" [src]="preview" class="preview" />
</div>

<div *ngIf="message.length" class="message">
  <ul *ngFor="let msg of message; let i = index">
    <li>{{ msg }}</li>
  </ul>
</div>

<mat-card class="list-card">
  <mat-card-header>
    <mat-card-title>List of Images</mat-card-title>
  </mat-card-header>
  <!-- <mat-card-content>
    <mat-grid-list cols="2" rowHeight="60px">
      <div *ngFor="let image of imageInfos | async">
        <mat-grid-tile
          ><a href="{{ image.url }}" class="text-inside-grid">{{
            image.name
          }}</a></mat-grid-tile
        >
        <mat-grid-tile
          ><img
            src="{{ image.url }}"
            alt="{{ image.name }}"
            class="image-inside-grid"
        /></mat-grid-tile>
      </div>
    </mat-grid-list>
  </mat-card-content> -->
  <div class="divGeneral">
    <mat-card class="example-card cardGeneral">
      <mat-card-content>    
          <be-image-gallery
          [images]="galleryImages"
        ></be-image-gallery>
      </mat-card-content>
    </mat-card>
  </div>
  
</mat-card>
