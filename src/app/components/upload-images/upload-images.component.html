<div *ngFor="let progressInfo of progressInfos">
  <mat-toolbar class="progress-bar">
    <mat-progress-bar
      color="accent"
      [value]="progressInfo.value"
    ></mat-progress-bar>
    <span class="progress">{{ progressInfo.value }}%</span>
  </mat-toolbar>
</div>

<div fxLayout="row">
  <div fxFlex="100" class="form-padding">
    <mat-toolbar color="primary">
      <span class="fill-remaining-space">Upload new image</span>
    </mat-toolbar>

    <div class="container" fxLayout="row">
      <form
        [formGroup]="formGroup"
        (ngSubmit)="onSubmit(formGroup.value)"
        class="form"
        fxFlex="100"
      >
        <div class="group-gap">
          <div class="avatar-upload">
            <div class="avatar-edit">
              <input
                type="file"
                id="imageUpload"
                accept=".png, .jpg, .jpeg"
                #fileInput
                (change)="selectFiles($event)"
              />
            </div>
            <div class="avatar-preview">
              <div
                id="imagePreview"
                matTooltip="Click here to select image"
                aria-label="Upload image"
                [style.backgroundImage]="'url(' + imageUrl + ')'"
                (click)="fileInput.click()"
              ></div>
            </div>
          </div>
        </div>

        <mat-form-field class="form-element">
          <input matInput placeholder="Title" formControlName="title" />
        </mat-form-field>

        <mat-form-field class="form-element">
          <input matInput placeholder="Tag" formControlName="tag" />
        </mat-form-field>

        <div class="form-element">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            class="button"
            [disabled]="!formGroup.valid"
          >
            Upload
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- <div>
  <img *ngFor="let preview of previews" [src]="preview" class="preview" />
</div> -->

<div *ngIf="message.length" class="message">
  <ul *ngFor="let msg of message; let i = index">
    <li>{{ msg }}</li>
  </ul>
</div>

<mat-card class="list-card">
  <mat-card-header>
    <mat-card-title>List of Images</mat-card-title>
  </mat-card-header>
  <div class="divGeneral">
    <mat-card class="example-card cardGeneral">
      <mat-card-content>
        <be-image-gallery [images]="galleryImages"></be-image-gallery>
      </mat-card-content>
    </mat-card>
  </div>
</mat-card>
